### YamlMime:PowershellCmdlet
summary: |-
  Starts the upgrade process on a site collection.
module: sharepoint-server
notes: ""
syntaxes:
- >-
  Upgrade-SPSite [-Identity] <SPSitePipeBind> [-AssignmentCollection <SPAssignmentCollection>] [-Confirm]

   [-Email] [-QueueOnly] [-Unthrottled] [-VersionUpgrade] [-WhatIf] [-Priority <Byte>] [<CommonParameters>]
examples:
- title: '-------------EXAMPLE 1----------'
  code: |-
    Upgrade-SPSite https://<site name>/sites/testsite
  description: |-
    This example upgrades the existing https://\<site name\>/sites/testsite site collection by using only build-to-build upgrade actions.
    The SPSite.CompatibilityLevel will not be changed by this operation.
  summary: ""
- title: '-------------EXAMPLE 2----------'
  code: |-
    Upgrade-SPSite https://<site name>/sites/testsite -VersionUpgrade
  description: |-
    This example upgrades the existing https://\<site name\>/sites/testsite site collection by using only build-to-build upgrade actions.
    The SPSite.CompatibilityLevel will not be changed by this operation.
  summary: ""
parameters:
- type: <xref href="SPAssignmentCollection" data-throw-if-not-resolved="False" />
  name: AssignmentCollection
  description: |+
    Manages objects for the purpose of proper disposal.
    Use of objects, such as SPWeb or SPSite, can use large amounts of memory and use of these objects in Windows PowerShell scripts requires proper memory management.
    Using the SPAssignment object, you can assign objects to a variable and dispose of the objects after they are needed to free up memory.
    When SPWeb, SPSite, or SPSiteAdministration objects are used, the objects are automatically disposed of if an assignment collection or the Global parameter is not used.

    When the Global parameter is used, all objects are contained in the global store.
    If objects are not immediately used, or disposed of by using the `Stop-SPAssignment` command, an out-of-memory scenario can occur.

  defaultValue: None
  pipelineInput: true
  position: Named
  aliases: ""
  applicable:
  - SharePoint Server Subscription Edition
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Confirm
  description: |+
    Prompts you for confirmation before executing the command.
    For more information, type the following command: `get-help about_commonparameters`

  defaultValue: None
  position: Named
  aliases: cf
  applicable:
  - SharePoint Server Subscription Edition
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Email
  description: |+
    Specifies whether to send mail on completion of the site collection upgrade.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - SharePoint Server Subscription Edition
  parameterValueGroup: ""
- type: <xref href="SPSitePipeBind" data-throw-if-not-resolved="False" />
  name: Identity
  isRequired: true
  description: |+
    Specifies the SPSite object to run upgrade operations against.

  defaultValue: None
  pipelineInput: true
  position: "1"
  aliases: ""
  applicable:
  - SharePoint Server Subscription Edition
  parameterValueGroup: ""
- type: <xref href="Byte" data-throw-if-not-resolved="False" />
  name: Priority
  description: |+
    Specifies what priority to upgrade the site.

    The valid values are:

    * 128 - 255 (Low Priority)

    * 11 - 127 (Normal Priority)

    * 0 - 10 (High Priority)

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - SharePoint Server Subscription Edition
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: QueueOnly
  description: |+
    Specifies to put the site into the queue for a delayed upgrade that is managed by a timer job. 

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - SharePoint Server Subscription Edition
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Unthrottled
  description: |+
    Specifies a farm administrator to bypass the throttle which permits a site collection to be upgraded even if there are "too many" site collections in the throttle to be upgraded.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - SharePoint Server Subscription Edition
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: VersionUpgrade
  description: |+
    Specifies to perform a version-to-version upgrade on the SPSite object.
    When this parameter is set, it internally triggers all available build-to-build actions that are associated with the current site collection operating mode.
    Version-to-version actions follow to bring site collections to the next site collection operating mode inclusive of all new build-to-build actions that are associated with the new site collection operating mode.
    When this parameter is not set, it triggers only available build-to-build upgrade actions that are associated with the current site collection operating mode.

  defaultValue: None
  position: Named
  aliases: ""
  applicable:
  - SharePoint Server Subscription Edition
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: WhatIf
  description: |+
    Displays a message that describes the effect of the command instead of executing the command.
    For more information, type the following command: `get-help about_commonparameters`

  defaultValue: None
  position: Named
  aliases: wi
  applicable:
  - SharePoint Server Subscription Edition
  parameterValueGroup: ""
applicable:
- SharePoint Server Subscription Edition
uid: sharepoint-server.Upgrade-SPSite
name: Upgrade-SPSite
description: |-
  The `Upgrade-SPSite` cmdlet starts the upgrade process on a site collection.

  The `Upgrade-SPSite` cmdlet activates the upgrade process for the specified SPSite object.
  You can also use this cmdlet to resume failed upgrades.
  When you use this cmdlet to initiate upgrade on an SPSite object, the object can be either a build-to-build or version-to-version upgrade.

  By default, the `Upgrade-SPSite` cmdlet operates as a build-to-build upgrade.
  This prevents unexpected version upgrades of site collections if you use this cmdlet after a patching operation.
  When in version-to-version upgrade mode, site collection health checks are run in repair mode to ensure that the site collection is healthy enough to upgrade successfully.
  If successful, the remainder of the upgrade occurs.

  For permissions and the most current information about Windows PowerShell for SharePoint Products, see the online documentation at [SharePoint Server Cmdlets](https://learn.microsoft.com/powershell/sharepoint/sharepoint-server/sharepoint-server-cmdlets).
metadata:
  external help file: Microsoft.SharePoint.PowerShell.dll-help.xml
  module name: SharePointServer
  online version: https://learn.microsoft.com/powershell/module/sharepoint-server/upgrade-spsite
  applicable: SharePoint Server Subscription Edition
  title: Upgrade-SPSite
  schema: 2.0.0
